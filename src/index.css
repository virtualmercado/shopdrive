@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --user-font-family: 'Inter';
  --user-font-weight: 400;
  
  /* Merchant Theme Variables - Default to VirtualMercado purple */
  --merchant-primary: #6a1b9a;
  --merchant-secondary: #FB8C00;
  --merchant-button-bg: #6a1b9a;
  --merchant-button-text: #FFFFFF;
  --merchant-footer-text: #FFFFFF;
  --merchant-primary-hover: #6a1b9add;
  --merchant-primary-light: #6a1b9a15;
  --merchant-primary-ring: #6a1b9a33;
  --merchant-button-hover: #6a1b9add;
}

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* VirtualMercado Design System */
    --background: 0 0% 100%;
    --foreground: 0 0% 13%;
    
    --card: 0 0% 100%;
    --card-foreground: 0 0% 13%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 13%;
    
    /* Roxo primário VirtualMercado */
    --primary: 276 76% 35%;
    --primary-foreground: 0 0% 100%;
    
    /* Laranja CTA */
    --secondary: 32 100% 49%;
    --secondary-foreground: 0 0% 100%;
    
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 32%;
    
    /* Texto secundário padrão - #515151 */
    --text-subtle: 0 0% 32%;
    
    --accent: 32 100% 49%;
    --accent-foreground: 0 0% 100%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 0 0% 91%;
    --input: 0 0% 91%;
    --ring: 276 76% 35%;
    
    --radius: 0.75rem;
    
    /* Gradientes */
    --gradient-primary: linear-gradient(135deg, hsl(276 76% 35%), hsl(276 76% 45%));
    --gradient-accent: linear-gradient(135deg, hsl(32 100% 49%), hsl(32 100% 59%));
    
    /* Sombras */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(0 0% 0% / 0.1);
    
    /* Sidebar */
    --sidebar-background: 276 76% 35%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 32 100% 49%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 276 76% 40%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 276 76% 30%;
    --sidebar-ring: 32 100% 49%;
  }

  .dark {
    --background: 0 0% 7%;
    --foreground: 0 0% 98%;
    
    --card: 0 0% 10%;
    --card-foreground: 0 0% 98%;
    
    --popover: 0 0% 10%;
    --popover-foreground: 0 0% 98%;
    
    --primary: 276 76% 45%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 32 100% 55%;
    --secondary-foreground: 0 0% 100%;
    
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 70%;
    
    --accent: 32 100% 55%;
    --accent-foreground: 0 0% 100%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 276 76% 45%;
    
    --sidebar-background: 0 0% 10%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 32 100% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 15%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 0 0% 20%;
    --sidebar-ring: 32 100% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--user-font-family), ui-sans-serif, system-ui, sans-serif;
    font-weight: var(--user-font-weight);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--user-font-family), ui-sans-serif, system-ui, sans-serif;
    font-weight: var(--user-font-weight);
  }
  
  button, input, select, textarea, label {
    font-family: var(--user-font-family), ui-sans-serif, system-ui, sans-serif;
    font-weight: var(--user-font-weight);
  }
  
  p, span, div {
    font-family: var(--user-font-family), ui-sans-serif, system-ui, sans-serif;
    font-weight: var(--user-font-weight);
  }
}

/* ============================================
   VIRTUALMERCADO GLOBAL MERCHANT THEME SYSTEM
   ============================================
   This section defines the global styling for all interactive elements
   that should inherit the merchant's primary color.
   
   The merchant colors are injected via CSS custom properties from ThemeContext:
   --merchant-primary, --merchant-button-bg, --merchant-button-text, etc.
   ============================================ */

@layer components {
  /* ==========================================
     RADIO BUTTONS - Global Merchant Styling
     Pattern: White background, merchant color border/indicator
     ========================================== */
  .merchant-radio,
  [data-merchant-styled="radio"] {
    border-color: var(--merchant-primary) !important;
    background-color: #FFFFFF !important;
    transition: all 0.2s ease !important;
  }
  
  .merchant-radio[data-state="checked"],
  [data-merchant-styled="radio"][data-state="checked"] {
    border-color: var(--merchant-primary) !important;
    background-color: #FFFFFF !important;
  }
  
  .merchant-radio[data-state="checked"] span svg,
  [data-merchant-styled="radio"][data-state="checked"] span svg {
    fill: var(--merchant-primary) !important;
    color: var(--merchant-primary) !important;
  }
  
  .merchant-radio:focus,
  .merchant-radio:focus-visible,
  [data-merchant-styled="radio"]:focus,
  [data-merchant-styled="radio"]:focus-visible {
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  /* ==========================================
     CHECKBOXES - Global Merchant Styling
     Pattern: Merchant color when checked
     ========================================== */
  .merchant-checkbox[data-state="checked"],
  [data-merchant-styled="checkbox"][data-state="checked"] {
    background-color: var(--merchant-primary) !important;
    border-color: var(--merchant-primary) !important;
    color: #FFFFFF !important;
  }
  
  .merchant-checkbox:focus,
  .merchant-checkbox:focus-visible,
  [data-merchant-styled="checkbox"]:focus,
  [data-merchant-styled="checkbox"]:focus-visible {
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  /* ==========================================
     SWITCHES / TOGGLES - Global Merchant Styling
     Pattern: Merchant color when active/checked
     ========================================== */
  .merchant-switch[data-state="checked"],
  [data-merchant-styled="switch"][data-state="checked"] {
    background-color: var(--merchant-primary) !important;
    border-color: var(--merchant-primary) !important;
  }
  
  .merchant-switch:focus,
  .merchant-switch:focus-visible,
  [data-merchant-styled="switch"]:focus,
  [data-merchant-styled="switch"]:focus-visible {
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  /* ==========================================
     BUTTONS - Global Merchant Styling
     Primary, Secondary, and Action buttons
     ========================================== */
  .merchant-btn-primary,
  [data-merchant-styled="btn-primary"] {
    background-color: var(--merchant-button-bg) !important;
    color: var(--merchant-button-text) !important;
    border-color: var(--merchant-button-bg) !important;
    transition: all 0.2s ease !important;
  }
  
  .merchant-btn-primary:hover,
  [data-merchant-styled="btn-primary"]:hover {
    background-color: var(--merchant-button-hover) !important;
    border-color: var(--merchant-button-hover) !important;
  }
  
  .merchant-btn-primary:focus,
  .merchant-btn-primary:focus-visible,
  [data-merchant-styled="btn-primary"]:focus,
  [data-merchant-styled="btn-primary"]:focus-visible {
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  .merchant-btn-secondary,
  [data-merchant-styled="btn-secondary"] {
    background-color: transparent !important;
    color: var(--merchant-primary) !important;
    border-color: var(--merchant-primary) !important;
    transition: all 0.2s ease !important;
  }
  
  .merchant-btn-secondary:hover,
  [data-merchant-styled="btn-secondary"]:hover {
    background-color: var(--merchant-primary-light) !important;
  }
  
  .merchant-btn-secondary:focus,
  .merchant-btn-secondary:focus-visible,
  [data-merchant-styled="btn-secondary"]:focus,
  [data-merchant-styled="btn-secondary"]:focus-visible {
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  /* ==========================================
     INPUTS & FORM CONTROLS - Global Merchant Styling
     Focus states for inputs, selects, textareas
     ========================================== */
  .merchant-input:focus,
  .merchant-input:focus-visible,
  [data-merchant-styled="input"]:focus,
  [data-merchant-styled="input"]:focus-visible {
    border-color: var(--merchant-primary) !important;
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  .merchant-select-trigger:focus,
  .merchant-select-trigger:focus-visible,
  [data-merchant-styled="select"]:focus,
  [data-merchant-styled="select"]:focus-visible {
    border-color: var(--merchant-primary) !important;
    box-shadow: 0 0 0 2px var(--merchant-primary-ring) !important;
    outline: none !important;
  }

  /* ==========================================
     NAVIGATION & LINKS - Global Merchant Styling
     Active links, tabs, menu items
     ========================================== */
  .merchant-link-active,
  [data-merchant-styled="link-active"] {
    color: var(--merchant-primary) !important;
  }
  
  .merchant-link:hover,
  [data-merchant-styled="link"]:hover {
    color: var(--merchant-primary) !important;
  }

  .merchant-tab-active,
  [data-merchant-styled="tab-active"] {
    border-color: var(--merchant-primary) !important;
    color: var(--merchant-primary) !important;
  }

  /* ==========================================
     SLIDERS & PROGRESS - Global Merchant Styling
     ========================================== */
  .merchant-slider [data-radix-collection-item],
  [data-merchant-styled="slider"] [data-radix-collection-item] {
    background-color: var(--merchant-primary) !important;
  }
  
  .merchant-slider [role="slider"],
  [data-merchant-styled="slider"] [role="slider"] {
    border-color: var(--merchant-primary) !important;
  }

  .merchant-progress-indicator,
  [data-merchant-styled="progress"] > div {
    background-color: var(--merchant-primary) !important;
  }

  /* ==========================================
     PAGINATION - Global Merchant Styling
     Active page indicators
     ========================================== */
  .merchant-pagination-active,
  [data-merchant-styled="pagination-active"] {
    background-color: var(--merchant-primary) !important;
    color: var(--merchant-button-text) !important;
    border-color: var(--merchant-primary) !important;
  }

  /* ==========================================
     BADGES & CHIPS - Global Merchant Styling
     Selected/active state
     ========================================== */
  .merchant-badge-active,
  [data-merchant-styled="badge-active"] {
    background-color: var(--merchant-primary) !important;
    color: var(--merchant-button-text) !important;
  }
  
  .merchant-chip-selected,
  [data-merchant-styled="chip-selected"] {
    background-color: var(--merchant-primary) !important;
    color: var(--merchant-button-text) !important;
    border-color: var(--merchant-primary) !important;
  }

  /* ==========================================
     CARDS & HIGHLIGHTS - Global Merchant Styling
     Selected card borders, visual indicators
     ========================================== */
  .merchant-card-selected,
  [data-merchant-styled="card-selected"] {
    border-color: var(--merchant-primary) !important;
    box-shadow: 0 0 0 1px var(--merchant-primary) !important;
  }

  .merchant-highlight,
  [data-merchant-styled="highlight"] {
    background-color: var(--merchant-primary-light) !important;
    border-color: var(--merchant-primary) !important;
  }

  /* ==========================================
     ICONS - Global Merchant Styling
     Clickable icons in active/hover state
     ========================================== */
  .merchant-icon-active,
  [data-merchant-styled="icon-active"] {
    color: var(--merchant-primary) !important;
  }
  
  .merchant-icon-hover:hover,
  [data-merchant-styled="icon-hover"]:hover {
    color: var(--merchant-primary) !important;
  }

  /* ==========================================
     CMS FOOTER MODAL - Custom Scrollbar VM Style
     ========================================== */
  .cms-footer-scroll {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--primary)) transparent;
  }
  
  .cms-footer-scroll::-webkit-scrollbar {
    width: 8px;
  }
  
  .cms-footer-scroll::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 4px;
  }
  
  .cms-footer-scroll::-webkit-scrollbar-thumb {
    background-color: hsl(var(--primary));
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: content-box;
    transition: background-color 0.2s ease;
  }
  
  .cms-footer-scroll::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--secondary));
  }
  
  /* Apply to ScrollArea viewport (caso algum modal use Radix ScrollArea) */
  .cms-footer-scroll [data-radix-scroll-area-viewport] {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--primary)) transparent;
  }
  
  .cms-footer-scroll [data-radix-scroll-area-viewport]::-webkit-scrollbar {
    width: 8px;
  }
  
  .cms-footer-scroll [data-radix-scroll-area-viewport]::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 4px;
  }
  
  .cms-footer-scroll [data-radix-scroll-area-viewport]::-webkit-scrollbar-thumb {
    background-color: hsl(var(--primary));
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: content-box;
  }
  
  .cms-footer-scroll [data-radix-scroll-area-viewport]::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--secondary));
  }
}

/* ============================================
   PAGE TRANSITION ANIMATIONS
   SPA smooth navigation for Landing pages
   ============================================ */

/* Page enter animation - fade in with slide up */
.page-enter {
  animation: pageEnter 500ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Page exit animation - fade out */
.page-exit {
  animation: pageExit 650ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes pageEnter {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pageExit {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-10px) scale(0.99);
  }
}

/* Prevent layout shift during transition */
.page-exit,
.page-enter {
  will-change: opacity, transform;
}

/* Ensure no flash during navigation */
[data-page-content] {
  min-height: calc(100vh - 300px);
  background-color: inherit;
}

/* ========================================
   CONTEXTUAL HIGHLIGHT - GLOW/HALO EFFECT
   Used for promotional highlights on plan cards
   ======================================== */

@keyframes highlight-glow-pulse {
  0% {
    box-shadow: 0 0 15px 4px hsla(276, 76%, 45%, 0.5), 
                0 0 30px 10px hsla(276, 76%, 40%, 0.3),
                0 0 45px 15px hsla(276, 76%, 35%, 0.15);
  }
  50% {
    box-shadow: 0 0 25px 8px hsla(276, 76%, 50%, 0.6), 
                0 0 50px 18px hsla(276, 76%, 45%, 0.35),
                0 0 70px 25px hsla(276, 76%, 40%, 0.2);
  }
  100% {
    box-shadow: 0 0 15px 4px hsla(276, 76%, 45%, 0.5), 
                0 0 30px 10px hsla(276, 76%, 40%, 0.3),
                0 0 45px 15px hsla(276, 76%, 35%, 0.15);
  }
}

@keyframes highlight-fade-in {
  from {
    opacity: 0;
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.highlight-contextual-premium {
  animation: highlight-fade-in 400ms ease-out forwards;
  box-shadow: 0 0 20px 6px hsla(276, 76%, 45%, 0.5), 
              0 0 40px 14px hsla(276, 76%, 40%, 0.3),
              0 0 60px 20px hsla(276, 76%, 35%, 0.15) !important;
  border-color: hsla(276, 76%, 45%, 0.8) !important;
  position: relative;
}

.highlight-contextual-premium::before {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: calc(var(--radius) + 6px);
  background: linear-gradient(
    135deg, 
    hsla(276, 76%, 50%, 0.12), 
    hsla(276, 76%, 40%, 0.06)
  );
  z-index: -1;
  pointer-events: none;
  animation: highlight-glow-pulse 2s ease-in-out infinite;
}

/* Support for future highlight types */
.highlight-contextual-pro {
  animation: highlight-fade-in 400ms ease-out forwards;
  box-shadow: 0 0 20px 6px hsla(32, 100%, 55%, 0.5), 
              0 0 40px 14px hsla(32, 100%, 50%, 0.3) !important;
  border-color: hsla(32, 100%, 55%, 0.8) !important;
}

.highlight-contextual-pro::before {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: calc(var(--radius) + 6px);
  background: linear-gradient(
    135deg, 
    hsla(32, 100%, 55%, 0.12), 
    hsla(32, 100%, 50%, 0.06)
  );
  z-index: -1;
  pointer-events: none;
}
